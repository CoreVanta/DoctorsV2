ClinicCore – Project Master Document

1. التعريف العام

اسم المشروع: ClinicCore
الوصف: نظام إدارة عيادات Open Source متكامل، موجه للأطباء المستقلين والعيادات الصغيرة في مصر، يعمل بالكامل على موارد مجانية (Free Tiers) بدون أي تكاليف تشغيل شهرية، ويُدار ذاتيًا (Self-Hosted Logic).


---

2. المشكلة (Problem Statement)

يعاني الأطباء المستقلون في مصر من:

الاعتماد على الدفاتر أو حلول بدائية غير مترابطة.

أنظمة SaaS مرتفعة التكلفة واشتراكات شهرية غير مضمونة الاستمرار.

تعقيد الأنظمة الطبية الكبيرة وعدم ملاءمتها للعيادات الصغيرة.

ضعف إدارة الطوابير والمواعيد، ما يسبب فوضى وضغط على السكرتارية.

فقدان أو تشتت ملفات المرضى بين الورق وواتساب.

انعدام أدوات ذكية بسيطة للتواصل مع المرضى بدون تكلفة.



---

3. الحل (ClinicCore Solution)

ClinicCore يقدم:

نظام إدارة عيادة كامل بدون اشتراك شهري.

تشغيل 100% على خدمات مجانية موثوقة.

تجربة استخدام ذكية تعتمد على واتساب بدل التطبيقات المعقدة.

أتمتة ذكية (AI خفيف) بدون اعتماد على خدمات مدفوعة.

تحكم كامل للطبيب في بياناته وملفاته.



---

4. الرؤية (Vision)

تمكين أي طبيب مستقل من امتلاك نظام رقمي احترافي خلال ساعة واحدة.

بناء نظام موثوق وبسيط قبل كونه ذكيًا أو متخمًا بالميزات.

إثبات أن الأنظمة الطبية يمكن أن تعمل بدون SaaS مدفوع.



---

5. الأهداف (Objectives)

تقليل العبء الإداري على الطبيب والسكرتارية.

تنظيم رحلة المريض من الحجز حتى الخروج.

تحسين تجربة المريض داخل العيادة.

توفير أدوات محتوى وتواصل ذكية للطبيب.



---

6. الفئة المستهدفة

طبيب مستقل.

عيادات فردية أو صغيرة.

السوق المصري كمرحلة أولى.



---

7. المبادئ الأساسية (Core Principles)

مجانية التشغيل.

الخصوصية أولًا.

الاعتماد على واتساب.

Open Source.

البساطة مع القوة.



---

8. الهندسة التقنية (System Architecture / Stack)

Frontend

HTML5

CSS3 (Tailwind عبر CDN)

Vanilla JavaScript

استضافة: GitHub Pages


Backend / API

Cloudflare Workers

منطق الأعمال الكامل داخل Worker


Database

Firebase Firestore (Real-time)


Authentication

Firebase Auth (Email/Password)

أدوار: Doctor / Secretary


Storage

Google Drive API

رفع الملفات الطبية عبر Worker Proxy


Messaging

WhatsApp Cloud API

Webhooks عبر Cloudflare Worker


AI Layer

Intent Detection: Regex + Keyword Scoring داخل Worker

Content Generation: Gemini Free API أو ما يعادله مجانًا



---

9. رحلة الحجز الذكية (Smart Booking UX Flow)

1. المريض يملأ نموذج الحجز (booking.html).


2. يتم حفظ الحجز بحالة pending في Firestore.


3. يظهر للمريض إشعار: "جارٍ الحجز، يرجى التأكيد عبر واتساب".


4. يتم توجيه المريض تلقائيًا إلى رابط wa.me برسالة جاهزة تحتوي:

اسم المريض

التاريخ

كود الحجز



5. عند إرسال الرسالة:

يستقبل Cloudflare Worker الـ Webhook.

يتم تغيير حالة الحجز إلى confirmed.

يتم الرد تلقائيًا برقم الدور.



6. صفحة الحجز المفتوحة تتحدث لحظيًا (Firebase Listener) وتعرض رسالة نجاح.




---

10. وحدة الذكاء الاصطناعي (AI Modules)

10.1 Smart FAQ Assistant

استقبال أسئلة المرضى عبر واتساب خارج مسار الحجز.

مطابقة السؤال مع مصفوفة JSON للأسئلة الشائعة.

رد مخصص بالاسم ولهجة مصرية بيضاء.


10.2 AI Ghostwriter

داخل لوحة الطبيب.

إدخال فكرة مقال.

إرسال Prompt مخفي إلى Gemini API.

توليد مقال طبي:

أسلوب احترافي

SEO Friendly

لهجة مصرية بسيطة


نشر تلقائي في صفحة المقالات.



---

11. لوحات التحكم (Dashboards)

11.1 لوحة الطبيب

إدارة الطابور (زر "التالي").

عرض الشاشة العامة الحالية.

سجل طبي كامل لكل مريض.

رفع ملفات طبية (تحاليل – أشعة).

إدارة المقالات.

إدارة FAQ.


11.2 لوحة السكرتارية

عرض المواعيد اليومية.

تغيير حالات الحجز (ملغى – متأخر).

أزرار تذكير تفتح واتساب مباشرة.


11.3 الشاشة العامة (Public Queue)

صفحة تعرض:

الآن بالداخل: رقم X

القادم: رقم Y


تحديث لحظي عبر Firestore.



---

12. الأمان والخصوصية

لا مفاتيح API في الواجهة الأمامية.

جميع المفاتيح داخل Env Variables في Worker.

صلاحيات Firestore صارمة (الطبيب فقط يرى بياناته).

الملفات الطبية مخزنة في Google Drive خاص بالطبيب.



---

13. القيود البرمجية الإلزامية (Constraints)

ممنوع أي خدمة تطلب بطاقة ائتمان.

ممنوع أي مكتبات مدفوعة.

دعم كامل للغة العربية و RTL.

اللهجة المصرية في الردود الآلية.



---

14. هيكل الملفات

/public

index.html

booking.html

queue-live.html


/dashboard

login.html

doctor-vitals.html

secretary-hub.html


/assets/js

firebase-config.js

app-logic.js


/backend

worker.js


/configs

firestore.rules

.env.example


README.md

دليل النشر الكامل للمبتدئين



---

15. ما لا يتم بناؤه خارج هذا المستند

أي ميزة غير موثقة هنا.

أي تكامل مدفوع.

أي انحراف عن مبدأ المجانية الكاملة.



---

16. حالة المستند

هذا المستند هو المرجع الوحيد لبناء ClinicCore. أي تعديل يتم أولًا هنا ثم في الكود.